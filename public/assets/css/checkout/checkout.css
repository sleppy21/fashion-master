/* Feedback visual al arrastrar el bottom sheet (swipe) */
.bottom-sheet-content.dragging {
    transition: none !important;
    will-change: transform;
    /* El JS aplica transform: translateY(...) en tiempo real */
}

        /* ============================================
           SECCIÓN DE DIRECCIÓN - DISEÑO EXACTO PLATAFORMA
           ============================================ */
        
        .checkout-address-section {
            border-radius: 0;
            padding: 0;
            margin-bottom: 20px;
            background: #fff;
            border: none;
        }
        
        .address-preview-card {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            background: white;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .address-preview-card:hover {
            background: #fafafa;
        }
        
        /* Ícono de ubicación */
        .address-icon-wrapper {
            flex-shrink: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .address-icon {
            width: 24px;
            height: 24px;
            color: #000;
        }
        
        /* Contenido de dirección */
        .address-content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        /* Línea 1: Nombre + Teléfono */
        .address-line-1 {
            display: flex;
            align-items: baseline;
            gap: 4px;
            line-height: 1.4;
        }
        
        .address-name {
            color: #000;
            font-size: 15px;
            font-weight: 500;
        }
        
        .address-phone {
            color: #000;
            font-size: 13px;
            font-weight: 400;
        }
        
        /* Línea 2: Dirección (naranja) */
        .address-line-2 {
            line-height: 1.4;
        }
        
        .address-street {
            color: #404040ac;
            font-size: 13px;
            font-weight: 500;
        }
        
        /* Línea 3: Distrito, código postal, ciudad, país */
        .address-line-3 {
            line-height: 1.4;
        }
        
        .address-line-3 span {
            color: #000;
            font-size: 13px;
            font-weight: 500;
        }
        
        /* Flecha a la derecha */
        .address-arrow-wrapper {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 2px;
        }
        
        .arrow-icon {
            width: 16px;
            height: 16px;
            color: #999;
        }
        
        /* Responsive Mobile */
        @media (max-width: 576px) {
            .address-preview-card {
                padding: 12px;
                gap: 10px;
            }
            
            .address-icon-wrapper {
                width: 20px;
                height: 20px;
            }
            
            .address-icon {
                width: 20px;
                height: 20px;
            }
            
            .address-name {
                font-size: 14px;
            }
            
            .address-phone {
                font-size: 12px;
            }
            
            .address-street {
                font-size: 12px;
            }
            
            .address-line-3 span {
                font-size: 12px;
            }
        }
        
        /* Dark Mode */
        body.dark-mode .checkout-address-section {
            background: #1a1a1a;
            border-bottom-color: #333;
        }
        
        body.dark-mode .address-preview-card:hover {
            background: #2a2a2a;
        }
        
        body.dark-mode .address-icon {
            color: #e0e0e0;
        }
        
        body.dark-mode .address-name,
        body.dark-mode .address-phone,
        body.dark-mode .address-line-3 span {
            color: #e0e0e0;
        }
        
        body.dark-mode .address-street {
            color: #ff8c61;
        }
        
        body.dark-mode .arrow-icon {
            color: #666;
        }
        
        /* ============================================
           BOTTOM SHEET BASE STYLES
           ============================================ */
        
        .address-bottom-sheet {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            visibility: hidden;
            background: rgba(0, 0, 0, 0.35);
            opacity: 0;
            transition: visibility 0s 0.3s, opacity 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        
        .address-bottom-sheet.active {
            visibility: visible;
            opacity: 1;
            transition-delay: 0s;
        }

        .bottom-sheet-content {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 85vh;
            background: #fff;
            border-radius: 20px 20px 0 0;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
            will-change: transform;
        }

        .address-bottom-sheet.active .bottom-sheet-content {
            transform: translateY(0);
        }

        /* Cuando se está arrastrando */
        .address-bottom-sheet.dragging .bottom-sheet-content {
            transition: none !important;
        }

        /* Handle para arrastrar */
        .bottom-sheet-handle {
            width: 40px;
            height: 4px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 2px;
            margin: 8px auto;
            touch-action: none;
            cursor: grab;
        }

        .bottom-sheet-header {
            padding: 16px;
            border-bottom: 1px solid #eee;
            position: relative;
            text-align: center;
        }

        .bottom-sheet-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .bottom-sheet-close {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background: none;
            padding: 8px;
            cursor: pointer;
        }

        .bottom-sheet-body {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 16px;
        }

        /* Limitar altura del body cuando muestra productos (2 productos visibles) */
        #productsBottomSheet .bottom-sheet-body {
            max-height: 320px;
            overflow-y: auto;
        }

        /* Cuando se está arrastrando */
        .bottom-sheet-content.dragging {
            transition: none !important;
            cursor: grab;
        }

        /* Prevenir scroll del body cuando el sheet está abierto */
        body.bottom-sheet-open {
            overflow: hidden !important;
            touch-action: none;
        }

        /* Dark mode */
        body.dark-mode .bottom-sheet-content {
            background: #1a1a1a;
            color: #fff;
        }

        body.dark-mode .bottom-sheet-handle {
            background: rgba(255, 255, 255, 0.2);
        }

        body.dark-mode .bottom-sheet-header {
            border-bottom-color: #333;
        }
        
        .bottom-sheet-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 85vh;
            background: #fff;
            border-radius: 20px 20px 0 0;
            transform: translateY(100%);
            display: flex;
            flex-direction: column;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* Animación de apertura */
        .address-bottom-sheet.active:not(.closing) .bottom-sheet-content {
            animation: slideUpBottomSheet 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        /* Anular animación cuando se está arrastrando */
        .address-bottom-sheet.dragging .bottom-sheet-content {
            animation: none !important;
            transition: none !important;
        }

        /* Animación de cierre, solo si está activo */
        .address-bottom-sheet.active.closing .bottom-sheet-content {
            animation: slideDownBottomSheet 0.3s cubic-bezier(0.4, 0, 0.6, 1) forwards;
        }
        
        /* Header del Bottom Sheet */
        .bottom-sheet-header {
            position: relative;
            padding: 20px 20px 16px;
            flex-shrink: 0;
            cursor: grab;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .bottom-sheet-header.dragging {
            cursor: grabbing;
        }
        
        .bottom-sheet-handle {
            width: 40px;
            height: 4px;
            background: #d1d1d1;
            border-radius: 2px;
            margin: 0 auto 16px;
            transition: background-color 0.2s ease;
        }
        
        .bottom-sheet-header:active .bottom-sheet-handle {
            background: #99999900;
        }
        
        .bottom-sheet-title {
            font-size: 18px;
            font-weight: 600;
            color: #000;
            margin: 0;
            text-align: center;
        }
        
        .bottom-sheet-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f5f5f5;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bottom-sheet-close:hover {
            background: #e5e5e5;
        }
        
        .bottom-sheet-close i {
            font-size: 16px;
            color: #666;
        }
        
        /* Body del Bottom Sheet */
        .bottom-sheet-body {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            -webkit-overflow-scrolling: touch;
        }
        
        .address-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        /* Tarjeta de Dirección */
        .address-card {
            background: #fff;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .address-card:hover,
        .address-card:active {
            border-color: #FB7701;
            background: #fff9f500;
        }
        
        .address-card-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .address-icon-circle {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FB7701 0%, #ff8c1f 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .address-icon-circle i {
            color: #fff;
            font-size: 18px;
        }
        
        .address-card-info {
            flex: 1;
        }
        
        .address-card-name {
            font-size: 15px;
            font-weight: 600;
            color: #000;
            margin-bottom: 2px;
        }
        
        .address-card-phone {
            font-size: 13px;
            font-weight: 400;
            color: #666;
        }
        
        .address-default-badge {
            width: 28px;
            height: 28px;
            background: #FFD700;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .address-default-badge i {
            color: #000;
            font-size: 14px;
        }
        
        .address-card-details {
            padding-left: 52px;
        }
        
        .address-card-street {
            font-size: 14px;
            color: #333;
            line-height: 1.4;
            margin-bottom: 4px;
        }
        
        .address-card-location {
            font-size: 12px;
            color: #999;
            line-height: 1.4;
        }
        
        /* Estado vacío */
        .address-empty-state {
            text-align: center;
            padding: 60px 20px;
        }
        
        .address-empty-state i {
            font-size: 64px;
            color: #d1d1d1;
            margin-bottom: 16px;
        }
        
        .address-empty-state p {
            font-size: 16px;
            color: #666;
            margin-bottom: 24px;
        }
        
        .btn-add-first-address {
            background: linear-gradient(135deg, #FB7701 0%, #ff8c1f 100%);
            color: #fff;
            border: none;
            padding: 14px 32px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-add-first-address:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(251, 119, 1, 0.3);
        }
        
        .btn-add-first-address i {
            margin-right: 8px;
        }
        
        /* Footer del Bottom Sheet */
        .bottom-sheet-footer {
            padding: 16px;
            border-top: 1px solid #e5e5e5;
            flex-shrink: 0;
        }
        
        .btn-add-new-address {
            width: 100%;
            background: #fff;
            border: 2px solid #FB7701;
            color: #FB7701;
            padding: 14px;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-add-new-address:hover {
            background: #FB7701;
            color: #fff;
        }
        
        .btn-add-new-address i {
            font-size: 16px;
        }
        
        /* Dark Mode para Bottom Sheet */
        body.dark-mode .bottom-sheet-content {
            background: #1a1a1a;
        }
        
        body.dark-mode .bottom-sheet-header {
            border-bottom-color: #333;
        }
        
        body.dark-mode .bottom-sheet-handle {
            background: #444;
        }
        
        body.dark-mode .bottom-sheet-title {
            color: #e0e0e0;
        }
        
        body.dark-mode .bottom-sheet-close {
            background: #2a2a2a;
        }
        
        body.dark-mode .bottom-sheet-close:hover {
            background: #333;
        }
        
        body.dark-mode .bottom-sheet-close i {
            color: #aaa;
        }
        
        body.dark-mode .address-card {
            background: #2a2a2a;
            border-color: #333;
        }
        
        body.dark-mode .address-card:hover,
        body.dark-mode .address-card:active {
            border-color: #ff8c1f;
            background: #2a2015;
        }
        
        body.dark-mode .address-card-name {
            color: #e0e0e0;
        }
        
        body.dark-mode .address-card-phone {
            color: #aaa;
        }
        
        body.dark-mode .address-card-street {
            color: #ccc;
        }
        
        body.dark-mode .address-card-location {
            color: #888;
        }
        
        body.dark-mode .address-empty-state i {
            color: #444;
        }
        
        body.dark-mode .address-empty-state p {
            color: #aaa;
        }
        
        body.dark-mode .bottom-sheet-footer {
            border-top-color: #333;
        }
        
        body.dark-mode .btn-add-new-address {
            background: #2a2a2a;
            border-color: #ff8c1f;
            color: #ff8c1f;
        }
        
        body.dark-mode .btn-add-new-address:hover {
            background: #ff8c1f;
            color: #000;
        }
        
        /* ============================================
           BOTTOM SHEET PARA VER PRODUCTOS COMPLETOS
           ============================================ */
        
        .products-detail-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .product-detail-card {
            background: #fff;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            gap: 16px;
        }
        
        .product-detail-image {
            position: relative;
            width: 100px;
            height: 100px;
            flex-shrink: 0;
            border-radius: 8px;
            overflow: hidden;
            background: #f5f5f5;
        }
        
        .product-detail-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-detail-badge {
            position: absolute;
            top: 4px;
            left: 4px;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            color: #fff;
        }
        
        .product-detail-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .product-detail-name {
            font-size: 14px;
            font-weight: 600;
            color: #000;
            margin: 0;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-detail-prices {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .product-price-row,
        .product-quantity-row,
        .product-subtotal-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
        }
        
        .product-price-label,
        .product-quantity-label,
        .product-subtotal-label {
            color: #666;
        }
        
        .product-price-values {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .product-price-old {
            font-size: 12px;
            color: #999;
            text-decoration: line-through;
            text-decoration-color: #FB7701;
            text-decoration-thickness: 1px;
        }
        
        .product-price-current {
            font-size: 14px;
            font-weight: 600;
            color: #000;
        }
        
        .product-quantity-value {
            font-weight: 600;
            color: #000;
        }
        
        .product-subtotal-row {
            padding-top: 8px;
            border-top: 1px solid #e5e5e5;
        }
        
        .product-subtotal-label {
            font-weight: 500;
            color: #000;
        }
        
        .product-subtotal-value {
            font-size: 16px;
            font-weight: 700;
            color: #FB7701;
        }
        
        /* Footer con total */
        .products-total-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .total-label {
            font-size: 15px;
            font-weight: 600;
            color: #000;
        }
        
        .total-value {
            font-size: 20px;
            font-weight: 700;
            color: #FB7701;
        }
        
        /* Dark Mode para productos */
        body.dark-mode .product-detail-card {
            background: #2a2a2a;
            border-color: #333;
        }
        
        body.dark-mode .product-detail-image {
            background: #1a1a1a;
        }
        
        body.dark-mode .product-detail-name {
            color: #e0e0e0;
        }
        
        body.dark-mode .product-price-label,
        body.dark-mode .product-quantity-label,
        body.dark-mode .product-subtotal-label {
            color: #aaa;
        }
        
        body.dark-mode .product-price-old {
            color: #666;
        }
        
        body.dark-mode .product-price-current,
        body.dark-mode .product-quantity-value {
            color: #e0e0e0;
        }
        
        body.dark-mode .product-subtotal-row {
            border-top-color: #333;
        }
        
        body.dark-mode .product-subtotal-label {
            color: #e0e0e0;
        }
        
        body.dark-mode .product-subtotal-value {
            color: #ff8c61;
        }
        
        body.dark-mode .products-total-summary {
            background: #1a1a1a;
        }
        
        body.dark-mode .total-label {
            color: #e0e0e0;
        }
        
        body.dark-mode .total-value {
            color: #ff8c61;
        }
        
        /* ============================================
           SECCIÓN DE PRODUCTOS ESTILO TEMU
           ============================================ */
        
        .temu-products-section {
            background: #f8f5f2;
            margin-bottom: 0;
        }
        
        /* Header con título y flecha */
        .temu-section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            cursor: pointer;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .temu-header-left {
            display: flex;
            align-items: baseline;
            gap: 6px;
        }
        
        .temu-header-title {
            display: flex;
            align-items: center;
        }
        
        .temu-title-text {
            color: #000;
            font-size: 15px;
            font-weight: 500;
        }
        
        .temu-header-count {
            color: #000;
            font-size: 14px;
        }
        
        .temu-header-right {
            display: flex;
            align-items: center;
        }
        
        .temu-arrow {
            width: 16px;
            height: 16px;
            color: #666;
        }
        
        /* Contenedor de scroll horizontal */
        .temu-products-scroll-container {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .temu-products-scroll-container::-webkit-scrollbar {
            display: none;
        }
        
        .temu-products-scroll-wrapper {
            display: inline-flex;
            gap: 12px;
            padding: 16px;
        }
        
        /* Tarjeta de producto individual */
        .temu-product-item {
            flex-shrink: 0;
            width: 120px;
        }
        
        .temu-product-image-wrapper {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 8px;
            overflow: hidden;
            background: #f5f5f5;
            margin-bottom: 8px;
        }
        
        .temu-product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .temu-discount-badge {
            position: absolute;
            top: 6px;
            left: 6px;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
            color: #fff;

        }
        
        /* Precios */
        .temu-product-price-container {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .temu-product-price {
            display: flex;
            align-items: baseline;
            line-height: 1;
        }
        
        .temu-price-symbol {
            color: #000;
            font-size: 10px;
            font-weight: 500;
        }
        
        .temu-price-value {
            color: #000;
            font-size: 12px;
            font-weight: 500;
        }
        
        .temu-price-quantity {
            color: #000;
            font-size: 10px;
            margin-left: 2px;
        }
        
        .temu-product-original-price {
            font-size: 11px;
            color: #aaa;
            text-decoration: line-through;
            text-decoration-color: #FB7701;
            text-decoration-thickness: 1px;
        }
        
        /* Información de envío */
        .temu-shipping-info {
            padding: 12px 16px;
            background: #fff;
        }
        
        .temu-shipping-text {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .temu-shipping-free {
            color: #0A8800;
            font-weight: 600;
        }
        
        .temu-shipping-details {
            color: #000;
            font-weight: 400;
        }
        
        .temu-shipping-fast {
            color: #0A8800;
            font-weight: 600;
        }
        
        .temu-shipping-arrow {
            display: inline-flex;
            align-items: center;
            margin-left: 4px;
        }
        
        .temu-shipping-arrow svg {
            width: 12px;
            height: 12px;
            color: #666;
        }
        
        /* Dark Mode para sección Temu */
        body.dark-mode .temu-products-section {
            background: #1a1a1a;
            border-bottom-color: #333;
        }
        
        body.dark-mode .temu-section-header {
            border-bottom-color: #333;
        }
        
        body.dark-mode .temu-title-text,
        body.dark-mode .temu-header-count {
            color: #e0e0e0;
        }
        
        body.dark-mode .temu-arrow {
            color: #aaa;
        }
        
        body.dark-mode .temu-product-image-wrapper {
            background: #2a2a2a;
        }
        
        body.dark-mode .temu-price-symbol,
        body.dark-mode .temu-price-value,
        body.dark-mode .temu-price-quantity {
            color: #e0e0e0;
        }
        
        body.dark-mode .temu-product-original-price {
            color: #666;
        }
        
        body.dark-mode .temu-shipping-info {
            background: #1a1a1a;
        }
        
        body.dark-mode .temu-shipping-details {
            color: #ccc;
        }
        
        body.dark-mode .temu-shipping-arrow svg {
            color: #aaa;
        }
        
        /* ============================================
           ESTILOS DEL CHECKOUT
           ============================================ */

        .checkout.spad {
            padding-top: 30px !important;
        }

        /* Eliminar padding extra en columna del resumen */
        .checkout .row {
            margin-top: 0 !important;
            display: flex !important;
            flex-wrap: wrap !important;
        }

        .checkout .col-lg-8,
        .checkout .col-lg-4,
        .checkout .col-md-4,
        .checkout .col-md-8 {
            padding-top: 0 !important;
        }
        
        .checkout-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 2px solid #f0f0f0;
        }
        .checkout-step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        .checkout-step::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e1e1e1;
            z-index: -1;
        }
        .checkout-step:first-child::before {
            left: 50%;
        }
        .checkout-step:last-child::before {
            right: 50%;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background: #e1e1e1;
            color: #666;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        .checkout-step.active .step-number {
            background: #ca1515;
            color: white;
        }
        .checkout-step.completed .step-number {
            background: #28a745;
            color: white;
        }

        /* ============================================
           ESTILOS DEL CHECKOUT
           ============================================ */
        
        .checkout-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 2px solid #f0f0f0;
        }
        .checkout-step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        .checkout-step::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e1e1e1;
            z-index: -1;
        }
        .checkout-step:first-child::before {
            left: 50%;
        }
        .checkout-step:last-child::before {
            right: 50%;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background: #e1e1e1;
            color: #666;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        .checkout-step.active .step-number {
            background: #ca1515;
            color: white;
        }
        .checkout-step.completed .step-number {
            background: #2ecc71;
            color: white;
        }
        .step-title {
            font-size: 13px;
            font-weight: 600;
            color: #666;
        }
        .checkout-step.active .step-title {
            color: #111;
        }
        
        .form-section {
            margin-bottom: 30px;
            background-color: white !important;
        }
        .form-section h5 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #111;
            padding-bottom: 10px;
            border-bottom: 2px solid #ca1515;
            display: inline-block;
        }
        .form-group label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        .form-control {
            border: 1px solid #e1e1e1;
            border-radius: 5px;
            padding: 12px 15px;
            font-size: 14px;
            background: white;
        }
        .form-control:focus {
            border-color: #ca1515;
            box-shadow: 0 0 0 0.2rem rgba(202,21,21,0.1);
        }
        
        /* MODO OSCURO - Form Sections */
        body.dark-mode .form-section {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border: 2px solid #3a3a3a;
        }
        
        body.dark-mode .form-section h5 {
            color: #c9a67c;
            border-bottom-color: #c9a67c;
        }
        
        body.dark-mode .form-group label {
            color: #c9a67c;
        }
        
        body.dark-mode .form-control {
            background: #1a1a1a;
            border-color: #3a3a3a;
            color: #e0e0e0;
        }
        
        body.dark-mode .form-control:focus {
            border-color: #c9a67c;
            box-shadow: 0 0 0 0.2rem rgba(201, 166, 124, 0.2);
        }
        
        body.dark-mode .form-control::placeholder {
            color: #666;
        }
        
        body.dark-mode select.form-control option {
            background: #1a1a1a;
            color: #e0e0e0;
        }
        
        /* ============================================
           GRID DE PRODUCTOS EN CHECKOUT - UNA SOLA FILA CON SCROLL
           ============================================ */
        .checkout-products-grid {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 10px;
            scrollbar-width: thin;
            scrollbar-color: #c9a67c #f0f0f0;
        }

        .checkout-products-grid::-webkit-scrollbar {
            height: 8px;
        }

        .checkout-products-grid::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 10px;
        }

        .checkout-products-grid::-webkit-scrollbar-thumb {
            background: #c9a67c;
            border-radius: 10px;
        }

        .checkout-products-grid::-webkit-scrollbar-thumb:hover {
            background: #a08661;
        }

        .checkout-products-more {
            min-width: 140px;
            width: 140px;
            flex-shrink: 0;
            background: linear-gradient(135deg, #c9a67c 0%, #a08661 100%);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: #1a1a1a;
            font-weight: 700;
            cursor: default;
            border: 2px solid #c9a67c;
            min-height: 200px;
        }

        .checkout-products-more-count {
            font-size: 32px;
            line-height: 1;
        }

        .checkout-products-more-text {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .checkout-product-card {
            min-width: 140px;
            width: 140px;
            flex-shrink: 0;
            background: white;
            border: 2px solid #e1e1e1;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .checkout-product-card:hover {
            border-color: #c9a67c;
            box-shadow: 0 6px 16px rgba(201, 166, 124, 0.2);
            transform: translateY(-2px);
        }

        .checkout-product-image {
            position: relative;
            width: 100%;
            padding-top: 100%;
            overflow: hidden;
            background: #f8f8f8;
        }

        .checkout-product-image img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .checkout-product-discount {
            position: absolute;
            top: 4px;
            left: 4px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 2px 5px;
            border-radius: 4px;
            font-size: 9px;
            font-weight: 700;
            box-shadow: 0 2px 6px rgba(255, 107, 107, 0.3);
            z-index: 2;
        }

        .checkout-product-quantity {
            position: absolute;
            bottom: 4px;
            right: 4px;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 3px 6px;
            border-radius: 10px;
            font-size: 9px;
            font-weight: 700;
            z-index: 2;
        }

        .checkout-product-info {
            padding: 8px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .checkout-product-name {
            font-size: 10px;
            font-weight: 700;
            color: #2c3e50;
            margin: 0;
            line-height: 1.2;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis; 
            min-height: 24px;
        }

        .checkout-product-prices {
            display: flex;
            align-items: center;
            gap: 3px;
            flex-wrap: wrap;
        }

        .checkout-product-price-old {
            font-size: 8px;
            color: #999;
            text-decoration: line-through;
        }

        .checkout-product-price {
            font-size: 10px;
            font-weight: 700;
            color: #c9a67c;
        }

        .checkout-product-subtotal {
            display: none;
        }

        /* Responsive para grid de productos */
        @media (max-width: 768px) {
            .checkout-product-card,
            .checkout-products-more {
                min-width: 120px;
                width: 120px;
            }
        }

        @media (max-width: 480px) {
            .checkout-products-grid {
                gap: 6px;
            }
            
            .checkout-product-card,
            .checkout-products-more {
                min-width: 100px;
                width: 100px;
            }
        }
        
        /* MODO OSCURO - Productos */
        body.dark-mode .checkout-product-card {
            background: #2a2a2a;
            border-color: #3a3a3a;
        }
        
        body.dark-mode .checkout-product-card:hover {
            border-color: #c9a67c;
            box-shadow: 0 6px 16px rgba(201, 166, 124, 0.3);
        }
        
        body.dark-mode .checkout-product-name {
            color: #e0e0e0;
        }
        
        body.dark-mode .checkout-product-image {
            background: #1a1a1a;
        }
        
        body.dark-mode .checkout-products-grid::-webkit-scrollbar-track {
            background: #2a2a2a;
        }
        
        body.dark-mode .checkout-products-grid::-webkit-scrollbar-thumb {
            background: #c9a67c;
        }

        /* ============================================
           MÉTODOS DE PAGO
           ============================================ */
        .payment-methods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .payment-method-card {
            background: white;
            border: 2px solid #e1e1e1;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .payment-method-card:hover {
            border-color: #c9a67c;
            box-shadow: 0 4px 12px rgba(201, 166, 124, 0.2);
            transform: translateY(-2px);
        }

        .payment-method-card.selected {
            border-color: #c9a67c;
            background: linear-gradient(135deg, #fffbf5 0%, #fff8ed 100%);
            box-shadow: 0 4px 12px rgba(201, 166, 124, 0.3);
        }

        .payment-method-check {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #e1e1e1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .payment-method-card.selected .payment-method-check {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
        }

        .payment-method-card:not(.selected) .payment-method-check {
            opacity: 0.3;
        }

        .payment-method-highlight {
            border-color: #c9a67c;
            background: linear-gradient(135deg, #fffbf5 0%, #fff8ed 100%);
        }

        .payment-method-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
            box-shadow: 0 2px 6px rgba(255, 107, 107, 0.3);
        }

        .payment-method-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            background: linear-gradient(135deg, #c9a67c 0%, #a08661 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
            flex-shrink: 0;
            box-shadow: 0 2px 8px rgba(201, 166, 124, 0.3);
        }

        .payment-method-info {
            flex: 1;
            min-width: 0;
        }

        .payment-method-name {
            font-size: 15px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 4px;
        }

        .payment-method-desc {
            font-size: 12px;
            color: #666;
            line-height: 1.4;
        }

        .payment-method-note {
            font-size: 11px;
            color: #999;
            line-height: 1.4;
            margin-top: 4px;
        }

        .payment-method-promo {
            font-size: 12px;
            color: #ff6b6b;
            font-weight: 600;
            margin-top: 4px;
        }
        
        /* MODO OSCURO - Métodos de Pago */
        body.dark-mode .payment-method-card {
            background: #2a2a2a;
            border-color: #3a3a3a;
        }
        
        body.dark-mode .payment-method-card:hover {
            border-color: #c9a67c;
            box-shadow: 0 4px 12px rgba(201, 166, 124, 0.3);
        }
        
        body.dark-mode .payment-method-card.selected {
            border-color: #c9a67c;
            background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 100%);
        }
        
        body.dark-mode .payment-method-name {
            color: #e0e0e0;
        }
        
        body.dark-mode .payment-method-desc {
            color: #a0a0a0;
        }
        
        body.dark-mode .payment-method-note {
            color: #888;
        }
        
        body.dark-mode .payment-method-check {
            background: #3a3a3a;
        }

        /* Responsive para métodos de pago */
        @media (max-width: 768px) {
            .payment-methods-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
        }
        
        /* ============================================
           MÉTODOS DE PAGO ESTILO TEMU - DISEÑO EXACTO
           ============================================ */
        
        .payment-container-temu {
            width: 100%;
            margin-top: 12px;
            margin-left: 0;
            margin-right: 0;
            border-radius: 8px 8px 0 0;
            overflow: visible;
        }
        
        /* Header con título e ícono */
        .payment-title-wrap {
            padding: 16px 20px 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .payment-title {
            font-size: 16px;
            font-weight: 600;
            color: #222;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .payment-security-icon {
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            color: #52c41a;
        }
        
        .payment-security-icon svg {
            width: 18px;
            height: 18px;
        }
        
        /* Lista de métodos de pago */
        .payment-methods-list {
            display: flex;
            flex-direction: column;
        }
        
        /* Contenedor de cada método */
        .pay-item-container {
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .pay-item-container:hover {
            background: #fafafa;
        }
        
        .pay-item-container.selected {
            background: #f0f8ff;
        }
        
        .pay-item-container:last-child {
            border-bottom: none;
        }
        
        /* Detalle del método de pago */
        .pay-detail {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        /* Información principal (ícono, nombre, check) */
        .pay-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        /* Check button circular */
        .pay-check-btn {
            width: 20px;
            height: 20px;
            border: 2px solid #d9d9d9;
            border-radius: 50%;
            flex-shrink: 0;
            position: relative;
            transition: all 0.2s ease;
        }
        
        .pay-item-container.selected .pay-check-btn,
        .pay-check-btn.checked {
            border-color: #1890ff;
            background: #1890ff;
        }
        
        .pay-item-container.selected .pay-check-btn::after,
        .pay-check-btn.checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
        }
        
        /* Ícono del método de pago */
        .pay-icon {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pay-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* Información a la derecha */
        .pay-info-right {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .pay-content {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .pay-name {
            font-size: 14px;
            font-weight: 600;
            color: #222;
        }
        
        .pay-subcontent {
            font-size: 12px;
            color: #8c8c8c;
            line-height: 1.4;
        }
        
        /* Información adicional en la parte inferior */
        .pay-info-bottom {
            padding-left: 44px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        /* Lista de marcas de tarjetas */
        .card-brands-list {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .card-brands-list img {
            height: 20px;
            width: auto;
            object-fit: contain;
        }
        
        /* Texto de seguridad */
        .payment-security-text {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: #0A8800;
            font-weight: 400;
        }
        
        .payment-security-text svg {
            flex-shrink: 0;
        }
        
        /* Contenido cuando está seleccionado */
        .pay-info-bottom.selected-content {
            display: none;
            font-size: 12px;
            color: #595959;
            line-height: 1.5;
            background: #f5f5f5;
            padding: 12px;
            border-radius: 6px;
            margin-top: 4px;
        }
        
        .pay-item-container.selected .pay-info-bottom.selected-content {
            display: block;
        }
        
        /* Mensaje de error */
        .payment-error-message {
            display: none;
            margin: 16px 20px;
            padding: 12px 16px;
            background: #fff7e6;
            border: 1px solid #ffd591;
            border-radius: 6px;
        }
        
        .payment-error-message p {
            color: #d46b08;
            font-size: 13px;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Dark Mode */
        body.dark-mode .payment-container-temu {
            background: #1a1a1a;
        }
        
        body.dark-mode .payment-title-wrap {
            border-bottom-color: #333;
        }
        
        body.dark-mode .payment-title {
            color: #e0e0e0;
        }
        
        body.dark-mode .pay-item-container {
            background: #1a1a1a;
            border-bottom-color: #333;
        }
        
        body.dark-mode .pay-item-container:hover {
            background: #2a2a2a;
        }
        
        body.dark-mode .pay-item-container.selected {
            background: #1a2332;
        }
        
        body.dark-mode .pay-check-btn {
            border-color: #555;
        }
        
        body.dark-mode .pay-item-container.selected .pay-check-btn,
        body.dark-mode .pay-check-btn.checked {
            border-color: #1890ff;
        }
        
        body.dark-mode .pay-name {
            color: #e0e0e0;
        }
        
        body.dark-mode .pay-subcontent {
            color: #999;
        }
        
        body.dark-mode .pay-info-bottom.selected-content {
            background: #2a2a2a;
            color: #aaa;
        }
        
        body.dark-mode .payment-error-message {
            background: #2a2015;
            border-color: #c9a67c;
        }
        
        body.dark-mode .payment-error-message p {
            color: #c9a67c;
        }
        
        /* Responsive */
        @media (max-width: 576px) {
            .payment-container-temu {
                width: 100%;
                margin-left: 0;
                margin-right: 0;
                border-radius: 0;
            }
        }
        
        /* ============================================
           RESUMEN DE TOTALES - DISEÑO PERSONALIZADO
           ============================================ */
        
        .amount-container-temu {
            width: 100%;
            padding: 24px;
            margin-top: 0;
            margin-left: 0;
            margin-right: 0;
            border-radius: 12px;
        }
        
        /* Fila de cantidad/precio */
        .amount-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0;
            border-bottom: 1px dashed #e0e0e0;
            gap: 16px;
        }
        
        .amount-row:last-of-type {
            border-bottom: none;
        }
        
        .amount-row.amount-total {
            padding: 20px 0 16px;
            border-top: 2px solid #667eea;
            border-bottom: none;
            margin-top: 12px;
        }
        
        /* Descripción (izquierda) */
        .amount-desc {
            flex: 1;
            min-width: 0;
        }
        
        .amount-desc span {
            font-size: 15px;
            color: #555;
            font-weight: 500;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            letter-spacing: 0.3px;
        }
        
        .amount-desc .total-label {
            font-size: 18px;
            color: #2c3e50;
            font-weight: 700;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        
        /* Valor (derecha) */
        .amount-value {
            flex: 0 0 auto;
            text-align: right;
            white-space: nowrap;
        }
        
        /* Precio con descuento (gradiente) */
        .price-discount {
            font-size: 16px;
            background: linear-gradient(135deg, #393939 0%, #57575794 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Precio regular (negro elegante) */
        .price-regular {
            font-size: 16px;
            color: #2c3e50;
            font-weight: 600;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Total del pedido */
        .total-price {
            display: flex;
            align-items: baseline;
            gap: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .total-price .currency {
            font-size: 16px;
            font-weight: 700;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .total-price .amount {
            font-size: 28px;
            font-weight: 800;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            letter-spacing: -0.5px;
        }
        
        .total-price .decimals {
            font-size: 18px;
            font-weight: 700;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Términos y condiciones */
        .amount-row-terms {
            padding: 16px 0 0;
            margin-top: 16px;
            border-top: 1px solid #e0e0e0;
        }
        
        .amount-row-terms p {
            font-size: 12px;
            color: #7f8c8d;
            line-height: 1.6;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-style: italic;
        }
        
        .terms-link {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            font-style: normal;
            transition: all 0.3s ease;
            border-bottom: 1px dashed #667eea;
        }
        
        .terms-link:hover {
            color: #764ba2;
            border-bottom-color: #764ba2;
        }
        
        /* Dark Mode */
        body.dark-mode .amount-container-temu {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .amount-row {
            border-bottom-color: #444;
        }
        
        body.dark-mode .amount-row.amount-total {
            border-top-color: #667eea;
        }
        
        body.dark-mode .amount-desc span {
            color: #bbb;
        }
        
        body.dark-mode .amount-desc .total-label {
            color: #e0e0e0;
        }
        
        body.dark-mode .price-regular {
            color: #e0e0e0;
        }
        
        body.dark-mode .amount-row-terms {
            border-top-color: #444;
        }
        
        body.dark-mode .amount-row-terms p {
            color: #999;
        }
        
        body.dark-mode .terms-link {
            color: #8b9cff;
            border-bottom-color: #8b9cff;
        }
        
        body.dark-mode .terms-link:hover {
            color: #a5b4ff;
            border-bottom-color: #a5b4ff;
        }
        
        /* Responsive */
        @media (max-width: 576px) {
            .amount-container-temu {
                width: 100%;
                margin-left: 0;
                margin-right: 0;
                border-radius: 0;
                padding: 20px;
            }
            
            .total-price .amount {
                font-size: 24px;
            }
            
            .amount-desc .total-label {
                font-size: 16px;
            }
        }
        
        .order-summary {
            background: white;
            border: 1px solid #e1e1e1;
            border-radius: 10px;
            padding: 25px;
            position: sticky;
            top: 20px;
        }
        .order-summary h5 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        /* MODO OSCURO - Order Summary */
        body.dark-mode .order-summary {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border: 2px solid #3a3a3a;
        }
        
        body.dark-mode .order-summary h5 {
            color: #c9a67c;
            border-bottom-color: rgba(201, 166, 124, 0.2);
        }
        
        body.dark-mode .order-total-row span {
            color: #d0d0d0 !important;
        }
        
        body.dark-mode .order-total-row.total span {
            color: #c9a67c !important;
        }
        
        body.dark-mode .alert {
            background: #2a2a2a;
            border-color: #3a3a3a;
            color: #d0d0d0;
        }
        .order-item {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        .order-item:last-child {
            border-bottom: none;
        }
        .order-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
        }
        .order-item-info {
            flex: 1;
        }
        .order-item-name {
            font-size: 14px;
            font-weight: 600;
            color: #111;
            margin-bottom: 5px;
        }
        .order-item-details {
            font-size: 12px;
            color: #666;
        }
        .order-item-price {
            font-size: 14px;
            font-weight: 600;
            color: #ca1515;
        }
        
        .order-totals {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
        }
        .order-total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
        }
        .order-total-row.total {
            font-size: 18px;
            font-weight: 700;
            color: #111;
            padding-top: 12px;
            border-top: 2px solid #f0f0f0;
        }
        
        .payment-method {
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .payment-method:hover {
            border-color: #ca1515;
            background: #fff5f5;
        }
        .payment-method input[type="radio"] {
            margin-right: 10px;
        }
        .payment-method.selected {
            border-color: #ca1515;
            background: #fff5f5;
        }
        
        .btn-place-order {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 700;
            text-transform: uppercase;
            border-radius: 50px;
            width: 100%;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-place-order:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(55, 61, 69, 0.7);
        }
        .btn-place-order:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        /* MODO OSCURO - Botones */
        body.dark-mode .btn-place-order {
            background: linear-gradient(135deg, #c9a67c 0%, #a08661 100%);
            color: #1a1a1a;
            box-shadow: 0 4px 15px rgba(201, 166, 124, 0.3);
        }
        
        body.dark-mode .btn-place-order:hover {
            background: linear-gradient(135deg, #a08661 0%, #c9a67c 100%);
            box-shadow: 0 6px 20px rgba(201, 166, 124, 0.4);
        }
        
        body.dark-mode .btn-place-order:disabled {
            background: #3a3a3a;
            color: #666;
        }
        
        .comprobante-type {
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .comprobante-type:hover {
            border-color: #ca1515;
        }
        .comprobante-type input[type="radio"] {
            margin-bottom: 10px;
        }
        .comprobante-type.selected {
            border-color: #ca1515;
            background: #fff5f5;
        }
        .comprobante-icon {
            font-size: 32px;
            color: #666;
            margin-bottom: 10px;
        }
        .comprobante-type.selected .comprobante-icon {
            color: #ca1515;
        }
        
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .alert-danger {
            background: #ffe5e5;
            border: 1px solid #ffcccc;
            color: #cc0000;
        }
        .alert-success {
            background: #e5ffe5;
            border: 1px solid #ccffcc;
            color: #00cc00;
        }
        .alert-warning {
            background: #fff5e5;
            border: 1px solid #ffebcc;
            color: #cc8800;
        }
        
        /* Header fijo (sticky) */
        .header {
            position: sticky !important;
            top: 0;
            z-index: 999;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* Ajuste para compensar el header fijo */
        body {
            padding-top: 0;
            background-color: #f8f5f2;
            padding-left: 20px; /* Margen izquierdo para toda la página */
            overflow-x: hidden; /* Evitar scroll horizontal por el padding */
        }
        
        /* Ocultar scrollbar con estilo (quitar barra celeste/transparente) */
        body::-webkit-scrollbar {
            width: 8px;
        }
        
        body::-webkit-scrollbar-track {
            background: transparent; /* Eliminar fondo celeste/transparente */
        }
        
        body::-webkit-scrollbar-thumb {
            background: #c9a67c;
            border-radius: 4px;
        }
        
        body::-webkit-scrollbar-thumb:hover {
            background: #a08661;
        }
        
        /* Para Firefox */
        body {
            scrollbar-width: thin;
            scrollbar-color: #c9a67c transparent;
        }
        
        /* MODO OSCURO - Body y Backgrounds */
        body.dark-mode {
            background-color: #1a1a1a;
            padding-left: 20px; /* Mantener margen izquierdo en modo oscuro */
        }
        
        /* Scrollbar en modo oscuro */
        body.dark-mode::-webkit-scrollbar-track {
            background: transparent; /* Eliminar fondo celeste/transparente en modo oscuro */
        }
        
        body.dark-mode::-webkit-scrollbar-thumb {
            background: #c9a67c;
        }
        
        body.dark-mode::-webkit-scrollbar-thumb:hover {
            background: #a08661;
        }
        
        body.dark-mode .checkout.spad {
            background: #1a1a1a;
        }
        
        body.dark-mode .breadcrumb-option {
            background: #2a2a2a;
            border-bottom: 1px solid #3a3a3a;
        }
        
        body.dark-mode .breadcrumb__links a,
        body.dark-mode .breadcrumb__links span {
            color: #c9a67c;
        }
        
        body.dark-mode .breadcrumb__links a:hover {
            color: #a08661;
        }
        
        body.dark-mode .checkout-step .step-title {
            color: #888;
        }
        
        body.dark-mode .checkout-step.active .step-title {
            color: #c9a67c;
        }
        
        /* Ajustar ancho de los selects de ubigeo */
        #departamento,
        #provincia,
        #distrito {
            width: 100% !important;
            max-width: 100% !important;
            min-width: 0 !important;
            padding: 10px 35px 10px 15px !important;
            height: auto !important;
            min-height: 42px !important;
            overflow: visible !important;
            box-sizing: border-box !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            appearance: none !important;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M10.293 3.293L6 7.586 1.707 3.293A1 1 0 00.293 4.707l5 5a1 1 0 001.414 0l5-5a1 1 0 10-1.414-1.414z'/%3E%3C/svg%3E") !important;
            background-repeat: no-repeat !important;
            background-position: right 12px center !important;
            background-size: 14px !important;
            font-size: 14px !important;
            line-height: 1.5 !important;
            color: #333 !important;
        }
        
        /* Asegurar que los selects no se corten */
        .form-control select,
        select.form-control {
            width: 100% !important;
            box-sizing: border-box !important;
            padding: 10px 35px 10px 15px !important;
            height: auto !important;
            min-height: 42px !important;
            font-size: 14px !important;
            line-height: 1.5 !important;
        }
        
        /* Ajustar el contenedor de los selects */
        .form-group select.form-control {
            display: block !important;
            width: 100% !important;
            padding: 10px 35px 10px 15px !important;
            height: auto !important;
            min-height: 42px !important;
            font-size: 14px !important;
            line-height: 1.5 !important;
            background-color: #f8f5f2 !important;
            background-clip: padding-box !important;
            border: 1px solid #e1e1e1 !important;
            border-radius: 5px !important;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out !important;
        }
        
        /* Asegurar que las columnas no compriman los selects */
        .col-md-4 {
            padding-left: 15px !important;
            padding-right: 15px !important;
            flex: 0 0 33.333333% !important;
            max-width: 33.333333% !important;
        }
        
        /* Asegurar que el row use flexbox correctamente */
        .form-section .row {
            display: flex !important;
            flex-wrap: wrap !important;
            margin-left: -15px !important;
            margin-right: -15px !important;
        }
        
        /* Prevenir que form-group comprima el contenido */
        .form-group {
            margin-bottom: 1rem !important;
            width: 100% !important;
        }
        
        /* Mejorar orden summary para que no se superponga con header */
        .order-summary {
            top: 20px !important; /* Espacio para el header fijo */
        }

        /* ============================================
           FIX: ASEGURAR LAYOUT DE 2 COLUMNAS EN DESKTOP
           ============================================ */
        
        /* Mantener estructura similar a shop.php */
        @media (min-width: 992px) {
            .checkout .row {
                display: flex !important;
                flex-wrap: nowrap !important;
            }
            
            .checkout .col-lg-8 {
                flex: 0 0 66.666667% !important;
                max-width: 66.666667% !important;
                padding-left: 1.5rem;
            }
            
            .checkout .col-lg-4 {
                flex: 0 0 33.333333% !important;
                max-width: 33.333333% !important;
            }
        }
        
        /* Para tablets medianos */
        @media (min-width: 768px) and (max-width: 991px) {
            .checkout .col-md-8 {
                padding-left: 1rem;
            }
        }

        /* ============================================
           ESTILOS RESPONSIVOS PARA MÓVIL
           ============================================ */

        /* Imágenes de productos en móvil - ocultas por defecto */
        .mobile-cart-preview {
            display: none;
        }

        /* Footer sticky móvil - oculto por defecto */
        .mobile-checkout-footer {
            display: none;
        }

        /* Solo visible en móvil */
        @media (max-width: 991px) {
            /* Ocultar sidebar de resumen en móvil */
            .order-summary {
                display: none !important;
            }

            /* Mostrar vista previa de productos en móvil */
            .mobile-cart-preview {
                display: block;
                background: white;
                padding: 15px;
                margin-bottom: 20px;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                border: 1px solid #e0e0e0;
            }

            .mobile-cart-preview__header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                padding-bottom: 12px;
                border-bottom: 2px solid #f0f0f0;
            }

            .mobile-cart-preview__title {
                font-size: 15px;
                font-weight: 700;
                color: #333;
            }

            .mobile-cart-preview__count {
                background: #ca1515;
                color: white;
                padding: 4px 10px;
                border-radius: 20px;
                font-size: 12px;
                font-weight: 700;
            }

            .mobile-cart-preview__items {
                display: flex;
                gap: 10px;
                overflow-x: auto;
                padding: 5px 0;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none; /* Firefox */
            }

            .mobile-cart-preview__items::-webkit-scrollbar {
                display: none; /* Chrome, Safari */
            }

            .mobile-cart-preview__item {
                flex-shrink: 0;
                position: relative;
            }

            .mobile-cart-preview__item-image {
                width: 70px;
                height: 70px;
                border-radius: 8px;
                object-fit: cover;
                border: 2px solid #e0e0e0;
            }

            .mobile-cart-preview__item-qty {
                position: absolute;
                top: -5px;
                right: -5px;
                background: #111;
                color: white;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 11px;
                font-weight: 700;
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            }

            /* Footer sticky móvil */
            .mobile-checkout-footer {
                display: block;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: white;
                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
                z-index: 999;
                border-top: 1px solid #e0e0e0;
                backdrop-filter: blur(10px);
                background: rgba(255, 255, 255, 0.98);
            }

            .mobile-checkout-footer__content {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 12px 20px;
                gap: 15px;
                max-width: 1200px;
                margin: 0 auto;
            }

            .mobile-checkout-footer__total {
                flex: 1;
                min-width: 0;
            }

            .mobile-checkout-footer__label {
                font-size: 11px;
                color: #666;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                margin-bottom: 2px;
                font-weight: 500;
            }

            .mobile-checkout-footer__amount {
                font-size: 22px;
                font-weight: 800;
                color: #111;
                line-height: 1.2;
            }

            .mobile-checkout-footer__shipping {
                font-size: 11px;
                color: #28a745;
                font-weight: 600;
                margin-top: 2px;
            }

            .mobile-checkout-footer__action {
                flex-shrink: 0;
            }

            .mobile-place-order-btn {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                padding: 14px 28px;
                background: linear-gradient(135deg, #ca1515 0%, #a01010 100%);
                color: white;
                border-radius: 50px;
                font-weight: 700;
                font-size: 15px;
                text-decoration: none;
                box-shadow: 0 4px 15px rgba(202, 21, 21, 0.3);
                transition: all 0.3s ease;
                white-space: nowrap;
                border: none;
                cursor: pointer;
            }

            .mobile-place-order-btn:hover {
                background: linear-gradient(135deg, #a01010 0%, #800c0c 100%);
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(202, 21, 21, 0.4);
                color: white;
                text-decoration: none;
            }

            .mobile-place-order-btn i {
                font-size: 14px;
            }

            /* Agregar padding al body para compensar el footer sticky */
            body {
                padding-bottom: 80px !important;
            }

            /* Ajustar sección de checkout */
            .checkout.spad {
                padding: 1px 0 50px !important;
            }

            /* Hacer formulario de ancho completo */
            .checkout .col-lg-8 {
                width: 100%;
                max-width: 100%;
                flex: 0 0 100%;
            }

            /* Ajustar steps en móvil */
            .checkout-steps {
                margin-bottom: 20px;
                padding: 15px 0;
            }

            .step-number {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }

            .step-title {
                font-size: 11px;
            }

            /* Ajustar form sections */
            .form-section {
                margin-bottom: 15px;
            }

            .form-section h5 {
                font-size: 16px;
                margin-bottom: 15px;
            }
        }

        /* Móviles pequeños */
        @media (max-width: 576px) {
            .mobile-checkout-footer__content {
                padding: 10px 15px;
                gap: 12px;
            }

            .mobile-checkout-footer__label {
                font-size: 10px;
            }

            .mobile-checkout-footer__amount {
                font-size: 20px;
            }

            .mobile-checkout-footer__shipping {
                font-size: 10px;
            }

            .mobile-place-order-btn {
                padding: 12px 22px;
                font-size: 14px;
                gap: 8px;
            }

            .mobile-place-order-btn span {
                display: none;
            }

            .mobile-place-order-btn::after {
                content: 'Realizar Pedido';
            }

            body {
                padding-bottom: 70px !important;
            }

            /* Steps más compactos */
            .checkout-steps {
                padding: 10px 0;
                margin-bottom: 15px;
            }

            .step-number {
                width: 30px;
                height: 30px;
                font-size: 13px;
            }

            .step-title {
                font-size: 10px;
            }

            /* Imágenes de productos más pequeñas */
            .mobile-cart-preview__item-image {
                width: 60px;
                height: 60px;
            }

            .mobile-cart-preview {
                padding: 12px;
                margin-bottom: 15px;
            }

            .mobile-cart-preview__title {
                font-size: 14px;
            }

            .mobile-cart-preview__count {
                font-size: 11px;
                padding: 3px 8px;
            }
        }

        /* Pantallas muy pequeñas */
        @media (max-width: 400px) {
            .mobile-checkout-footer__content {
                padding: 8px 12px;
                gap: 10px;
            }

            .mobile-checkout-footer__amount {
                font-size: 18px;
            }

            .mobile-place-order-btn {
                padding: 10px 18px;
                font-size: 13px;
            }
        }

        /* ========================================
           ESTILOS PARA MÉTODOS DE PAGO - MODO CLARO/OSCURO
        ======================================== */
        
        /* Contenedor principal de métodos de pago */
        .payment-methods-section {
            background: white !important;
            border: 2px solid #dee2e6;
            overflow: visible !important; /* Importante para que el badge no se corte */
            position: relative;
        }

        body.dark-mode .payment-methods-section {
            background: white !important; /* Mantener blanco en modo oscuro */
            border: 2px solid #3a3a3a;
            overflow: visible !important;
        }
        
        /* Badge de Yape - Asegurar visibilidad */
        .yape-badge {
            animation: pulse-badge 2s ease-in-out infinite;
        }
        
        @keyframes pulse-badge {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 6px 16px rgba(76, 175, 80, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 20px rgba(76, 175, 80, 0.9);
            }
        }

        /* Texto de seguridad */
        .payment-security-text {
            color: #6c757d;
        }

        body.dark-mode .payment-security-text {
            color: #888;
        }

        /* Filas de métodos de pago */
        .payment-method-row {
            background: #ffffff;
            border: 2px solid #dee2e6;
        }

        body.dark-mode .payment-method-row {
            background: #1a1a1a;
            border: 2px solid #3a3a3a;
        }

        /* Yape tiene borde especial */
        .payment-method-row.payment-yape {
            border: 2px solid #e1bee7;
        }

        body.dark-mode .payment-method-row.payment-yape {
            border: 2px solid #6a1b9a;
        }

        /* Hover en métodos de pago */
        .payment-method-row:hover {
            transform: translateX(4px);
            border-color: #c9a67c;
        }

        body.dark-mode .payment-method-row:hover {
            border-color: #c9a67c;
        }

        /* Títulos de métodos de pago */
        .payment-title {
            color: #212529;
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 4px;
        }

        body.dark-mode .payment-title {
            color: #fff;
        }

        /* Subtítulos de métodos de pago */
        .payment-subtitle {
            color: #6c757d;
            font-size: 12px;
        }

        body.dark-mode .payment-subtitle {
            color: #888;
        }

        /* Highlight de Yape */
        .payment-yape-highlight {
            color: #6a1b9a;
            font-size: 13px;
            font-weight: 600;
        }

        body.dark-mode .payment-yape-highlight {
            color: #ba68c8;
        }

        /* Check de pago */
        .payment-check {
            border: 2px solid #dee2e6;
        }

        body.dark-mode .payment-check {
            border: 2px solid #3a3a3a;
        }

        /* Método de pago seleccionado */
        .payment-method-row.selected {
            border-color: #c9a67c !important;
            background: rgba(201, 166, 124, 0.1) !important;
        }

        .payment-method-row.selected .payment-check {
            border-color: #c9a67c !important;
            background: linear-gradient(135deg, #c9a67c 0%, #a8865e 100%) !important;
        }

        .payment-method-row.selected .payment-check i {
            color: white !important;
        }

        /* ========================================
           NUEVAS CARDS DE PAGO - DISEÑO INTUITIVO V2.0
        ======================================== */
        
        .payment-card-new {
            position: relative;
            overflow: visible !important; /* Cambiar de hidden a visible para que el badge se muestre */
        }
        
        /* Card de Yape con badge - overflow visible */
        .payment-card-featured {
            overflow: visible !important;
        }
        
        .payment-card-new::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, transparent, transparent);
            border-radius: 16px;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: -1;
        }
        
        .payment-card-new:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(201, 166, 124, 0.2) !important;
            border-color: #c9a67c !important;
        }
        
        .payment-card-new.selected {
            border-color: #c9a67c !important;
            background: linear-gradient(135deg, rgba(201, 166, 124, 0.08) 0%, #ffffff 100%) !important;
            box-shadow: 0 8px 24px rgba(201, 166, 124, 0.25) !important;
            transform: translateY(-2px);
        }
        
        body.dark-mode .payment-card-new {
            background: linear-gradient(135deg, #2a2a2a 0%, #252525 100%) !important;
            border-color: #3a3a3a !important;
        }
        
        body.dark-mode .payment-card-new:hover {
            border-color: #c9a67c !important;
            background: linear-gradient(135deg, #333333 0%, #2d2d2d 100%) !important;
            box-shadow: 0 4px 16px rgba(201, 166, 124, 0.3) !important;
        }
        
        body.dark-mode .payment-card_new.selected {
            border-color: #c9a67c !important;
            background: linear-gradient(135deg, #2a2a2a 0%, #252525 100%) !important;
            box-shadow: 0 6px 20px rgba(201, 166, 124, 0.5), 
                        inset 0 0 30px rgba(201, 166, 124, 0.1) !important;
        }
        
        body.dark-mode .payment-card-new h6 {
            color: #e0e0e0 !important;
        }
        
        body.dark-mode .payment-card-new p {
            color: #a0a0a0 !important;
        }
        
        /* Radio button en dark mode */
        body.dark-mode .payment-card-new div[style*="border: 3px solid"] {
            border-color: #3a3a3a !important;
        }
        
        body.dark-mode .payment-card_new.selected div[style*="border: 3px solid"] {
            border-color: #c9a67c !important;
        }
        
        /* Sección de pagos en modo oscuro */
        body.dark-mode .payment-methods-section {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%) !important;
            border: 2px solid #3a3a3a !important;
        }
        
        /* Texto de seguridad en dark mode */

        body.dark-mode .payment-security-text {
            color: #a0a0a0 !important;
        }
        
        /* Título de la sección en dark mode */
        body.dark-mode .payment-methods-section h5 {
            color: #c9a67c !important;
        }
        
        /* Iconos dentro de las payment cards en dark mode */
        body.dark-mode .payment-card-new svg rect,
        body.dark-mode .payment-card-new svg circle {
            opacity: 0.9;
        }
        
        /* Bordes de los contenedores de iconos en dark mode */
        body.dark-mode .payment-card-new > div[style*="border: 2px solid"] {
            border-color: #4a4a4a !important;
            background: #1a1a1a !important;
        }
        
        /* Badge de Yape en dark mode */
        body.dark-mode .yape-badge {
            border-color: #3a3a3a !important;
        }
        
        /* Mensaje de error en dark mode */
        body.dark-mode #payment-method-error {
            background: linear-gradient(135deg, #3a2f1f 0%, #2a2419 100%) !important;
            border-left-color: #c9a67c !important;
        }
        
        body.dark-mode #payment-method-error p {
            color: #f0d9b5 !important;
        }
        
        /* Radio button en las cards - Actualizado para estructura horizontal */
        .payment-card-new .payment-radio-inner {
            transition: all 0.3s ease;
        }
        
        /* Cuando la card está seleccionada */
        .payment-card-new.selected {
            border-color: #c9a67c !important;
            background: #f9f9f9 !important;
            box-shadow: 0 6px 20px rgba(201, 166, 124, 0.3) !important;
        }
        
        /* Card seleccionada en dark mode - sobrescribir fondo claro */
        body.dark-mode .payment-card-new.selected {
            background: linear-gradient(135deg, #2d2d2d 0%, #282828 100%) !important;
            box-shadow: 0 6px 20px rgba(201, 166, 124, 0.5), 
                        inset 0 0 30px rgba(201, 166, 124, 0.15) !important;
        }
        
        /* Radio button seleccionado (buscar el div con el círculo) */
        .payment-card-new.selected > div > div.payment-radio-inner,
        .payment-card-new.selected div[style*="border-radius: 50%"] .payment-radio-inner {
            background: #c9a67c !important;
            box-shadow: 0 0 0 3px rgba(201, 166, 124, 0.2);
        }
        
        /* Borde del radio button cuando está seleccionado */
        .payment-card-new.selected div[style*="width: 24px"] {
            border-color: #c9a67c !important;
        }
        
        /* Animación shake */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* Responsive para cards de pago - FILA HORIZONTAL EN DESKTOP */
        .payment-methods-row {
            display: flex;
            gap: 16px;
            overflow: visible !important; /* Permitir que el badge se vea completo */
            position: relative;
        }
        
        @media (min-width: 769px) {
            .payment-methods-row {
                flex-direction: row; /* Forzar fila horizontal en desktop */
                overflow: visible !important;
            }
        }
        
        @media (max-width: 768px) {
            .payment-methods-row {
                flex-direction: column; /* Stack vertical en móvil */
                overflow: visible !important;
            }
            
            body {
                padding-left: 0px; /* Reducir margen izquierdo en móvil */
            }
            
            body.dark-mode {
                padding-left: 10px;
            }
            
            /* Ocultar sección de productos en móviles (ya se muestra en el preview superior) */
            .checkout-products-section {
                display: none !important;
            }
            
            /* ========================================
               MEJORAR SECCIÓN DE DIRECCIÓN EN MÓVILES
            ======================================== */
            .checkout-address-section {
                margin-bottom: 18px !important;
            }
            
            /* Header de la dirección (título + botón al costado como icono) */
            .address-header-section {
                flex-direction: row !important;
                gap: 8px;
                align-items: center !important;
                justify-content: space-between !important;
            }
            
            .checkout-address-section h5 {
                font-size: 15px !important;
                flex: 1;
            }
            
            /* Botón cambiar dirección - pequeño icono al costado */
            .btn-change-address {
                width: auto !important;
                padding: 8px 12px !important;
                font-size: 13px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 6px;
                white-space: nowrap;
            }
            
            /* Card de preview de dirección - más compacto */
            .address-preview-card {
                padding: 1px !important;
                border-radius: 8px !important;
            }
            
            /* Grid de campos - dos columnas compactas */
            .address-grid {
                grid-template-columns: 1fr 1fr !important;
                gap: 10px 8px !important;
                font-size: 13px !important;
            }
            
            /* Cada campo de dirección - sin bordes para compactar */
            .address-field {
                padding: 0;
            }
            
            /* Campos que ocupan ancho completo */
            .address-field-full {
                grid-column: 1 / -1 !important;
            }
            
            /* Labels de los campos - más pequeños */
            .address-label {
                font-size: 10px !important;
                color: #c9a67c !important;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                font-weight: 600 !important;
                margin-bottom: 3px !important;
                display: block;
            }
            
            /* Valores de los campos - compactos */
            .address-value,
            .address-value-ref {
                font-size: 13px !important;
                display: block;
                line-height: 1.4;
                color: #333333;
                font-weight: 500;
            }
            
            /* Dark mode para valores */
            body.dark-mode .address-value,
            body.dark-mode .address-value-ref {
                color: #e0e0e0;
            }
        }

        /* ========================================
           ESTILOS PARA RESUMEN DEL PEDIDO - MODO CLARO/OSCURO
        ======================================== */
        
        /* Contenedor del resumen */
        .checkout-summary {
            background: #ffffff;
        }

        body.dark-mode .checkout-summary {
            background: #1a1a1a;
            border: 2px solid #3a3a3a;
        }

        /* Título del resumen */
        .summary-title {
            color: #c9a67c;
            border-bottom: 2px solid #e1e1e1;
        }

        body.dark-mode .summary-title {
            color: #c9a67c;
            border-bottom: 2px solid #3a3a3a;
        }

        /* Filas del resumen */
        .summary-row {
            border-bottom: 1px solid #e1e1e1;
        }

        body.dark-mode .summary-row {
            border-bottom: 1px solid #3a3a3a;
        }

        /* Labels y valores del resumen */
        .summary-label {
            color: #333;
            font-size: 14px;
            font-weight: 600;
        }

        body.dark-mode .summary-label {
            color: #e0e0e0;
        }

        .summary-value {
            color: #333;
            font-size: 14px;
            font-weight: 600;
        }

        body.dark-mode .summary-value {
            color: #e0e0e0;
        }

        /* Total destacado */
        .summary-total {
            background: rgba(201, 166, 124, 0.1);
        }

        body.dark-mode .summary-total {
            background: rgba(201, 166, 124, 0.15);
        }

        .summary-total span {
            color: #c9a67c;
        }

        body.dark-mode .summary-total span {
            color: #c9a67c;
        }

        /* ========================================
           ESTILOS PARA SECCIONES DE CHECKOUT - MODO CLARO/OSCURO
        ======================================== */
        
        /* Sección de dirección */
        .checkout-address-section {
            background: #ffffff;
        }

        body.dark-mode .checkout-address-section {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border: 2px solid #3a3a3a;
        }

        /* Sección de productos */
        .checkout-products-section {
            background: #ffffff;
        }

        body.dark-mode .checkout-products-section {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border: 2px solid #3a3a3a;
        }

        /* Botón cambiar dirección */
        .btn-change-address {
            background: #c9a67c;
            color: #1a1a1a;
        }

        body.dark-mode .btn-change-address {
            background: #c9a67c;
            color: #1a1a1a;
        }

        /* Card de preview de dirección */
        .address-preview-card {
            background: #f8f5f2;
        }

        body.dark-mode .address-preview-card {
            background: rgba(201, 166, 124, 0.1);
        }

        /* Labels de dirección */
        .address-label {
            color: #c9a67c;
        }

        body.dark-mode .address-label {
            color: #c9a67c;
        }

        /* Valores de dirección */
        .address-value {
            color: #333;
        }

        body.dark-mode .address-value {
            color: #d0d0d0;
        }

        /* Referencia (estilo especial) */
        .address-value-ref {
            font-style: italic;
            color: #6c757d;
        }

        body.dark-mode .address-value-ref {
            font-style: italic;
            color: #a0a0a0;
        }

        /* ========================================
           ESTILOS PARA MODAL DE DIRECCIÓN - MODO CLARO/OSCURO
        ======================================== */
        
        /* Contenido del modal */
        .address-modal-content {
            background: #ffffff;
        }

        body.dark-mode .address-modal-content {
            background: #1a1a1a;
        }

        /* Body del modal */
        .address-modal-body {
            background: #ffffff;
        }

        body.dark-mode .address-modal-body {
            background: #1a1a1a;
        }

        /* Footer del modal */
        .address-modal-footer {
            background: #f8f9fa;
        }

        body.dark-mode .address-modal-footer {
            background: #1a1a1a;
        }

        /* Opciones de dirección */
        .address-option {
            background: #f8f9fa;
        }

        body.dark-mode .address-option {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border: 2px solid #3a3a3a;
        }

        .address-option:hover {
            border-color: #c9a67c !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(201, 166, 124, 0.2);
        }

        /* Nombre en la opción */
        .address-option-name {
            color: #c9a67c;
        }

        body.dark-mode .address-option-name {
            color: #c9a67c;
        }

        /* Detalles de dirección */
        .address-option-details {
            color: #333;
        }

        body.dark-mode .address-option-details {
            color: #d0d0d0;
        }

        /* Teléfono */
        .address-option-phone {
            color: #6c757d;
        }

        body.dark-mode .address-option-phone {
            color: #a0a0a0;
        }

        /* Estado vacío */
        .address-empty-state {
            color: #6c757d;
        }

        body.dark-mode .address-empty-state {
            color: #888;
        }

        /* Botón agregar dirección */
        .btn-add-address {
            background: #3a3a3a;
            border: 1px solid #4a4a4a;
            color: #e0e0e0;
        }

        body.dark-mode .btn-add-address {
            background: #3a3a3a;
            border: 1px solid #4a4a4a;
            color: #e0e0e0;
        }

        .btn-add-address:hover {
            background: #c9a67c;
            border: 1px solid #c9a67c;
            color: #1a1a1a;
        }

        /* ========================================
           PREVENIR MOVIMIENTO DE PÁGINA CON MODAL
        ======================================== */
        
        /* Mantener scroll visible cuando modal está abierto */
        body.modal-open {
            overflow: auto !important;
        }

        /* ========================================
           ESTILOS DEL SCROLLBAR GLOBAL
        ======================================== */
        
        /* Scrollbar principal del body */
        body::-webkit-scrollbar {
            width: 12px;
        }

        body::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        body.dark-mode::-webkit-scrollbar-track {
            background: #1a1a1a;
        }

        body::-webkit-scrollbar-thumb {
            background: #c9a67c;
            border-radius: 6px;
        }

        body::-webkit-scrollbar-thumb:hover {
            background: #a08661;
        }

        /* Firefox scrollbar */
        body {
            scrollbar-width: thin;
            scrollbar-color: #c9a67c #f1f1f1;
        }

        body.dark-mode {
            scrollbar-color: #c9a67c #1a1a1a;
        }

        body {
            background: #f8f5f2 !important;
        }
